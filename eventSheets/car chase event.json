{
	"name": "Car Chase Event",
	"events": [
		{
			"eventType": "variable",
			"name": "MaxEnemies",
			"type": "number",
			"initialValue": "15",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 591645516309570
		},
		{
			"eventType": "variable",
			"name": "EnemiesLeft",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 931116382267672
		},
		{
			"eventType": "variable",
			"name": "EnemiesOnAlive",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 763572264013784
		},
		{
			"eventType": "variable",
			"name": "BG_Speed",
			"type": "number",
			"initialValue": "7",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 469821231290656
		},
		{
			"eventType": "variable",
			"name": "FireRate",
			"type": "number",
			"initialValue": "7",
			"comment": "Shots Per Second",
			"isStatic": false,
			"isConstant": false,
			"sid": 532196629431864
		},
		{
			"eventType": "variable",
			"name": "MaxAmmo",
			"type": "number",
			"initialValue": "20",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 202779025723626
		},
		{
			"eventType": "variable",
			"name": "Ammo",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 477169151571118
		},
		{
			"eventType": "variable",
			"name": "Health",
			"type": "number",
			"initialValue": "10",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 361160011078965
		},
		{
			"eventType": "variable",
			"name": "MaxEnemiesOnScreen",
			"type": "number",
			"initialValue": "1",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 229773907475354
		},
		{
			"eventType": "variable",
			"name": "EnemiesKilled",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 337706346204791
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 579145488652260
				}
			],
			"actions": [
				{
					"id": "set-width",
					"objectClass": "CarChase_GrassSpawner",
					"sid": 579547867665406,
					"parameters": {
						"width": "CarChase_Grass.Width"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 564641320105302,
					"parameters": {
						"variable": "EnemiesLeft",
						"value": "MaxEnemies"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 480166310514097,
					"parameters": {
						"variable": "Ammo",
						"value": "MaxAmmo"
					}
				}
			],
			"sid": 536479267426445
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 503517953022396
				}
			],
			"actions": [
				{
					"id": "set-position",
					"objectClass": "CarChase_crosshair",
					"sid": 472920360323640,
					"parameters": {
						"x": "Mouse.X",
						"y": "Mouse.Y"
					}
				},
				{
					"id": "set-position",
					"objectClass": "CarChase_CameraTarget",
					"sid": 954912401205575,
					"disabled": true,
					"parameters": {
						"x": "CarChase_PlayerCar.X + Self.distanceToCar",
						"y": "450"
					}
				},
				{
					"id": "set-x",
					"objectClass": "CarChase_Grass",
					"sid": 766553215989457,
					"parameters": {
						"x": "Self.X - BG_Speed"
					}
				},
				{
					"id": "set-x",
					"objectClass": "CarChase_Road",
					"sid": 843457047604262,
					"parameters": {
						"x": "Self.X - BG_Speed"
					}
				},
				{
					"id": "set-position",
					"objectClass": "CarChase_ReloadBar",
					"sid": 775304291265793,
					"parameters": {
						"x": "CarChase_PlayerCar.X - 100",
						"y": "CarChase_PlayerCar.Y - 100"
					}
				},
				{
					"id": "set-progress",
					"objectClass": "CarChase_ReloadBar",
					"sid": 397110243270584,
					"parameters": {
						"value": "(CarChase_PlayerCar.Timer.CurrentTime(\"Reload\")/CarChase_PlayerCar.Timer.Duration(\"Reload\")) * 100"
					}
				}
			],
			"sid": 369174703570154
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "mouse-button-is-down",
					"objectClass": "Mouse",
					"sid": 134743558422972,
					"parameters": {
						"mouse-button": "left"
					}
				},
				{
					"id": "every-x-seconds",
					"objectClass": "System",
					"sid": 694366103245781,
					"parameters": {
						"interval-seconds": "1.0/FireRate"
					}
				},
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 107322392108424,
					"parameters": {
						"variable": "Ammo",
						"comparison": 4,
						"value": "0"
					}
				},
				{
					"id": "is-timer-running",
					"objectClass": "CarChase_PlayerCar",
					"sid": 586623784299175,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "\"Reload\""
					},
					"isInverted": true
				}
			],
			"actions": [
				{
					"id": "spawn-another-object",
					"objectClass": "CarChase_PlayerCar",
					"sid": 732478007130702,
					"parameters": {
						"object": "CarChase_Bullet",
						"layer": "1",
						"image-point": "0",
						"create-hierarchy": false
					}
				},
				{
					"id": "set-angle-toward-position",
					"objectClass": "CarChase_Bullet",
					"sid": 126085140552031,
					"parameters": {
						"x": "Mouse.X",
						"y": "Mouse.Y"
					}
				},
				{
					"id": "shake",
					"objectClass": "CarChase_CameraTarget",
					"sid": 104504066053266,
					"behaviorType": "ScrollTo",
					"parameters": {
						"magnitude": "10",
						"duration": "0.1",
						"mode": "reducing-magnitude"
					}
				},
				{
					"id": "subtract-from-eventvar",
					"objectClass": "System",
					"sid": 881530988197414,
					"parameters": {
						"variable": "Ammo",
						"value": "1"
					}
				}
			],
			"sid": 112281119311038
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-on-screen",
					"objectClass": "CarChase_Bullet",
					"sid": 765016087536873,
					"isInverted": true
				}
			],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "CarChase_Bullet",
					"sid": 513036337228922
				}
			],
			"sid": 213048684142571
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Enemy Car Behavior",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "carChase_enemyCar",
							"sid": 927984775592413,
							"parameters": {
								"instance-variable": "Dead"
							},
							"isInverted": true
						},
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 517425340301793,
							"parameters": {
								"interval-seconds": "0.5"
							}
						}
					],
					"actions": [
						{
							"id": "move-to-position",
							"objectClass": "carChase_enemyCar",
							"sid": 510863375865179,
							"behaviorType": "MoveTo",
							"parameters": {
								"x": "CarChase_PlayerCar.X",
								"y": "Self.Y",
								"mode": "direct"
							}
						}
					],
					"sid": 119059814759876
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "CarChase_Bullet",
							"sid": 872911158553895,
							"parameters": {
								"object": "carChase_enemyCar"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "carChase_enemyCar",
							"sid": 495914557568474,
							"parameters": {
								"instance-variable": "Dead"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-default-color",
							"objectClass": "carChase_enemyCar",
							"sid": 881620472467561,
							"parameters": {
								"color": "rgbEx(100, 100 * carChase_enemyCar.Health/Self.MaxHealth, 100* carChase_enemyCar.Health/Self.MaxHealth)"
							}
						},
						{
							"id": "subtract-from-instvar",
							"objectClass": "carChase_enemyCar",
							"sid": 162331589567611,
							"parameters": {
								"instance-variable": "Health",
								"value": "1"
							}
						},
						{
							"id": "destroy",
							"objectClass": "CarChase_Bullet",
							"sid": 893386733591712
						}
					],
					"sid": 625329885820309,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "carChase_enemyCar",
									"sid": 617908383863954,
									"parameters": {
										"instance-variable": "Health",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "subtract-from-eventvar",
									"objectClass": "System",
									"sid": 454515070244769,
									"parameters": {
										"variable": "EnemiesOnAlive",
										"value": "1"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "carChase_enemyCar",
									"sid": 754109056738862,
									"behaviorType": "Rotate",
									"parameters": {
										"speed": "random(-25,25)"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "carChase_enemyCar",
									"sid": 478514386107537,
									"behaviorType": "Rotate",
									"parameters": {
										"state": "enabled"
									}
								},
								{
									"id": "move-to-position",
									"objectClass": "carChase_enemyCar",
									"sid": 414057226560904,
									"behaviorType": "MoveTo",
									"parameters": {
										"x": "-300",
										"y": "Self.Y + random(-400, 400)",
										"mode": "direct"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "carChase_enemyCar",
									"sid": 699684025780761,
									"parameters": {
										"instance-variable": "Dead",
										"value": "true"
									}
								},
								{
									"id": "set-max-speed",
									"objectClass": "carChase_enemyCar",
									"sid": 986548465236425,
									"behaviorType": "MoveTo",
									"parameters": {
										"max-speed": "600"
									}
								},
								{
									"id": "set-stop-on-solids",
									"objectClass": "carChase_enemyCar",
									"sid": 607596126843731,
									"behaviorType": "MoveTo",
									"parameters": {
										"enabled": false
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 231000782349768,
									"parameters": {
										"variable": "EnemiesKilled",
										"value": "1"
									}
								},
								{
									"id": "subtract-from-eventvar",
									"objectClass": "System",
									"sid": 312272461828561,
									"parameters": {
										"variable": "EnemiesLeft",
										"value": "1"
									}
								}
							],
							"sid": 924213321327406
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 912938738954059,
									"parameters": {
										"variable": "EnemiesKilled",
										"comparison": 0,
										"value": "3"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 844660144965346,
									"parameters": {
										"variable": "EnemiesKilled",
										"comparison": 0,
										"value": "7"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 977825435549821,
									"parameters": {
										"variable": "EnemiesKilled",
										"comparison": 0,
										"value": "11"
									}
								}
							],
							"actions": [
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 767745928303779,
									"parameters": {
										"variable": "MaxEnemiesOnScreen",
										"value": "1"
									}
								}
							],
							"sid": 874708627059148,
							"isOrBlock": true
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 788786867643900,
							"parameters": {
								"interval-seconds": "2"
							}
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 178856330169782,
							"parameters": {
								"variable": "EnemiesLeft",
								"comparison": 4,
								"value": "EnemiesOnAlive"
							}
						}
					],
					"actions": [],
					"sid": 191666004026361,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 406920445400518,
									"parameters": {
										"variable": "EnemiesOnAlive",
										"comparison": 2,
										"value": "MaxEnemiesOnScreen"
									}
								},
								{
									"id": "pick-random-instance",
									"objectClass": "System",
									"sid": 529261672571311,
									"parameters": {
										"object": "CarChase_CarSpawner"
									}
								},
								{
									"id": "is-overlapping-another-object",
									"objectClass": "CarChase_CarSpawner",
									"sid": 392791040046665,
									"parameters": {
										"object": "carChase_enemyCar"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "CarChase_CarSpawner",
									"sid": 669278792345943,
									"parameters": {
										"object": "carChase_enemyCar",
										"layer": "1",
										"image-point": "0",
										"create-hierarchy": false
									}
								}
							],
							"sid": 150282126544207
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-created",
							"objectClass": "carChase_enemyCar",
							"sid": 585128632346896
						}
					],
					"actions": [
						{
							"id": "set-solid-collision-filter",
							"objectClass": "carChase_enemyCar",
							"sid": 698391200590664,
							"parameters": {
								"mode": "inclusive",
								"tags": "\"Player Enemy\""
							}
						},
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 259551535371239,
							"parameters": {
								"variable": "EnemiesOnAlive",
								"value": "1"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "carChase_enemyCar",
							"sid": 119743222376890,
							"parameters": {
								"instance-variable": "Health",
								"value": "Self.MaxHealth"
							}
						}
					],
					"sid": 576556112785256
				}
			],
			"sid": 284671557416723
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "BG Spawning Behavior",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-x",
							"objectClass": "CarChase_Grass",
							"sid": 681245425129252,
							"parameters": {
								"comparison": 3,
								"x-co-ordinate": "-4000"
							}
						}
					],
					"actions": [
						{
							"id": "set-x",
							"objectClass": "CarChase_Grass",
							"sid": 949301162833939,
							"parameters": {
								"x": "4000 - BG_Speed"
							}
						}
					],
					"sid": 511405933738581
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-x",
							"objectClass": "CarChase_Road",
							"sid": 591826167087599,
							"parameters": {
								"comparison": 3,
								"x-co-ordinate": "-4000"
							}
						}
					],
					"actions": [
						{
							"id": "set-x",
							"objectClass": "CarChase_Road",
							"sid": 690358133928700,
							"parameters": {
								"x": "4000 - BG_Speed"
							}
						}
					],
					"sid": 946324104781965
				}
			],
			"sid": 686241393990137
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 856677617707733,
					"parameters": {
						"variable": "EnemiesLeft",
						"comparison": 0,
						"value": "0"
					}
				},
				{
					"id": "is-flashing",
					"objectClass": "CarChase_Advance",
					"sid": 671803033210463,
					"behaviorType": "Flash",
					"isInverted": true
				}
			],
			"actions": [
				{
					"id": "set-visible",
					"objectClass": "CarChase_Advance",
					"sid": 138177869483527,
					"parameters": {
						"visibility": "visible"
					}
				},
				{
					"id": "flash",
					"objectClass": "CarChase_Advance",
					"sid": 959981190194397,
					"behaviorType": "Flash",
					"parameters": {
						"on-time": "0.25",
						"off-time": "0.25",
						"duration": "1.5"
					}
				}
			],
			"sid": 254150729986555,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "CarChase_Wall",
							"sid": 981352964411490,
							"parameters": {
								"instance-variable": "DisableAtEnd"
							}
						}
					],
					"actions": [
						{
							"id": "set-enabled",
							"objectClass": "CarChase_Wall",
							"sid": 816792164712255,
							"behaviorType": "Solid",
							"parameters": {
								"state": "disabled"
							}
						}
					],
					"sid": 139450075303303
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-overlapping-another-object",
					"objectClass": "CarChase_PlayerCar",
					"sid": 278174072795459,
					"parameters": {
						"object": "CarChase_ExitVolume"
					}
				}
			],
			"actions": [],
			"sid": 706402726850243
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-click",
					"objectClass": "Mouse",
					"sid": 551060789822965,
					"parameters": {
						"mouse-button": "right",
						"click-type": "clicked"
					}
				},
				{
					"id": "is-timer-running",
					"objectClass": "CarChase_PlayerCar",
					"sid": 154013592644545,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "\"Reload\""
					},
					"isInverted": true
				}
			],
			"actions": [
				{
					"id": "start-timer",
					"objectClass": "CarChase_PlayerCar",
					"sid": 381798334256016,
					"behaviorType": "Timer",
					"parameters": {
						"duration": "0.5",
						"type": "once",
						"tag": "\"Reload\""
					}
				},
				{
					"id": "set-visible",
					"objectClass": "CarChase_ReloadBar",
					"sid": 165152083895369,
					"parameters": {
						"visibility": "visible"
					}
				}
			],
			"sid": 209364015584008
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-timer",
					"objectClass": "CarChase_PlayerCar",
					"sid": 788252719057912,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "\"Reload\""
					}
				}
			],
			"actions": [
				{
					"id": "set-visible",
					"objectClass": "CarChase_ReloadBar",
					"sid": 586511294636957,
					"parameters": {
						"visibility": "invisible"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 151808119659326,
					"parameters": {
						"variable": "Ammo",
						"value": "MaxAmmo"
					}
				}
			],
			"sid": 679362590227521
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "CarChase_PlayerCar",
					"sid": 299845209097180,
					"parameters": {
						"object": "CarChase_EnemyBullet"
					}
				},
				{
					"id": "is-flashing",
					"objectClass": "CarChase_PlayerCar",
					"sid": 898581017315732,
					"behaviorType": "Flash",
					"isInverted": true
				}
			],
			"actions": [
				{
					"id": "flash",
					"objectClass": "CarChase_PlayerCar",
					"sid": 401720533130657,
					"behaviorType": "Flash",
					"parameters": {
						"on-time": "0.1",
						"off-time": "0.1",
						"duration": "1.0"
					}
				},
				{
					"id": "destroy",
					"objectClass": "EnemyBullet",
					"sid": 848249807259105
				},
				{
					"id": "subtract-from-eventvar",
					"objectClass": "System",
					"sid": 781660491114725,
					"parameters": {
						"variable": "Health",
						"value": "1"
					}
				}
			],
			"sid": 526946746218544
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-x-seconds",
					"objectClass": "System",
					"sid": 747710388042581,
					"parameters": {
						"interval-seconds": "1.0"
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "carChase_enemyCar",
					"sid": 722247402198681,
					"parameters": {
						"instance-variable": "Dead"
					},
					"isInverted": true
				},
				{
					"id": "is-on-screen",
					"objectClass": "carChase_enemyCar",
					"sid": 766036711654374
				}
			],
			"actions": [
				{
					"id": "spawn-another-object",
					"objectClass": "carChase_enemyCar",
					"sid": 842438894988654,
					"parameters": {
						"object": "CarChase_EnemyBullet",
						"layer": "1",
						"image-point": "0",
						"create-hierarchy": false
					}
				},
				{
					"id": "set-angle-toward-position",
					"objectClass": "CarChase_EnemyBullet",
					"sid": 764768658475992,
					"parameters": {
						"x": "CarChase_PlayerCar.X",
						"y": "CarChase_PlayerCar.Y"
					}
				}
			],
			"sid": 481026056257171
		}
	],
	"sid": 210743918402358
}